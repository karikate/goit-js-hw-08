{"mappings":"oeAAA,I,EAAAA,EAAA,SAAMC,SAIN,IAAIC,EAAW,GAEf,MAAMC,EAAUC,SAASC,cAAc,kBAsBvC,GAHAF,EAAQG,iBAAiB,QAASC,GAjBlC,SAAgBC,GACdN,EAASM,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MACnCC,aAAaC,QARF,sBAQgBC,KAAKC,UAAUb,G,GAeO,MACnDC,EAAQG,iBAAiB,UAbzB,SAAkBE,GAChBA,EAAEQ,iBACGd,EAASe,OAAUf,EAASgB,SAG/BC,QAAQC,IAAI,yBAA0BlB,GACtCM,EAAEa,cAAcC,QAChBV,aAAaW,WAlBJ,uBAmBTrB,EAAW,IALXsB,MAAM,4B,IAYNZ,aAAaa,QA1BJ,uBA0BmB,CAC9B,MAAMC,EAAed,aAAaa,QA3BvB,uBA4BLE,EAAqBb,KAAKc,MAAMF,GAEtCvB,EAAQe,QAAQP,MAAQkB,EAAWF,EAAmBT,SACtDf,EAAQc,MAAMN,MAAQkB,EAAWF,EAAmBV,OACpDf,EAAWY,KAAKc,MAAMF,E,CAGxB,SAASG,EAAWlB,GAClB,OAAIA,GAGG,E","sources":["src/js/03-feedback.js"],"sourcesContent":["const { throttle } = require('lodash');\n\nconst FORM = 'feedback-form-state';\n\nlet formData = {};\n\nconst formRef = document.querySelector('.feedback-form');\n\nfunction onType(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(FORM, JSON.stringify(formData));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  if (!formData.email || !formData.message) {\n    alert('Please fill in all fields');\n  } else {\n    console.log('The form has been sent', formData);\n    e.currentTarget.reset();\n    localStorage.removeItem(FORM);\n    formData = {};\n  }\n}\n\nformRef.addEventListener('input', throttle(onType, 500));\nformRef.addEventListener('submit', onSubmit);\n\nif (localStorage.getItem(FORM)) {\n  const storageValue = localStorage.getItem(FORM);\n  const parsedStorageValue = JSON.parse(storageValue);\n\n  formRef.message.value = auditValue(parsedStorageValue.message);\n  formRef.email.value = auditValue(parsedStorageValue.email);\n  formData = JSON.parse(storageValue);\n}\n\nfunction auditValue(value) {\n  if (value) {\n    return value;\n  }\n  return '';\n}\n"],"names":["parcelRequire","throttle","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$formRef","document","querySelector","addEventListener","$945622fd0f572e60$require$throttle","e","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","email","message","console","log","currentTarget","reset","removeItem","alert","getItem","storageValue","parsedStorageValue","parse","$945622fd0f572e60$var$auditValue"],"version":3,"file":"03-feedback.8d22b6ab.js.map"}